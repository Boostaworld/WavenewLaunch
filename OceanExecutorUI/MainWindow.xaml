<Window x:Class="OceanExecutorUI.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Ocean Executor" Height="720" Width="1200"
        Background="#0F172A" Foreground="#E2E8F0"
        WindowStyle="None" AllowsTransparency="True"
        ResizeMode="CanResize">
    <Window.Resources>
        <!-- Colors -->
        <Color x:Key="PrimaryColor">#06B6D4</Color>
        <Color x:Key="AccentColor">#2563EB</Color>
        <Color x:Key="BackgroundDark">#020617</Color>
        <Color x:Key="SurfaceDark">#0F172A</Color>
        <SolidColorBrush x:Key="PrimaryBrush" Color="#06B6D4"/>
        <SolidColorBrush x:Key="AccentBrush" Color="#2563EB"/>
        <SolidColorBrush x:Key="SuccessBrush" Color="#10B981"/>
        <SolidColorBrush x:Key="ErrorBrush" Color="#EF4444"/>

        <!-- Button Styles -->
        <Style x:Key="ModernButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Foreground" Value="#E2E8F0"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Padding" Value="12,8"/>
            <Setter Property="FontSize" Value="13"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}" 
                                CornerRadius="6" 
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#1E293B"/>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter Property="Background" Value="#0F172A"/>
                            </Trigger>
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter Property="Opacity" Value="0.5"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="ExecuteButtonStyle" TargetType="Button" BasedOn="{StaticResource ModernButtonStyle}">
            <Setter Property="Background" Value="#06B6D4"/>
            <Setter Property="Foreground" Value="#020617"/>
            <Setter Property="Padding" Value="24,12"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}" 
                                CornerRadius="8"
                                BorderThickness="0">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#22D3EE"/>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter Property="Background" Value="#06B6D4"/>
                            </Trigger>
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter Property="Background" Value="#64748B"/>
                                <Setter Property="Opacity" Value="0.6"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="NavButtonStyle" TargetType="Button" BasedOn="{StaticResource ModernButtonStyle}">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Foreground" Value="#94A3B8"/>
            <Setter Property="Padding" Value="12,10"/>
            <Setter Property="HorizontalContentAlignment" Value="Left"/>
            <Setter Property="Margin" Value="0,4"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}" 
                                CornerRadius="6"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}">
                            <ContentPresenter HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" 
                                            VerticalAlignment="Center"
                                            Margin="{TemplateBinding Padding}"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#1E293B"/>
                                <Setter Property="Foreground" Value="#06B6D4"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- TextBox Styles -->
        <Style x:Key="ModernTextBoxStyle" TargetType="TextBox">
            <Setter Property="Background" Value="#1E293B"/>
            <Setter Property="Foreground" Value="#E2E8F0"/>
            <Setter Property="BorderBrush" Value="#334155"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Padding" Value="12"/>
            <Setter Property="FontFamily" Value="Consolas"/>
            <Setter Property="FontSize" Value="12"/>
            <Setter Property="CaretBrush" Value="#06B6D4"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="TextBox">
                        <Border Background="{TemplateBinding Background}" 
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="6"
                                Padding="{TemplateBinding Padding}">
                            <ScrollViewer x:Name="PART_ContentHost" VerticalScrollBarVisibility="Auto"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsFocused" Value="True">
                                <Setter Property="BorderBrush" Value="#06B6D4"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Window.Resources>

    <Grid Background="#0F172A">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="280"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <!-- Sidebar -->
        <Border Grid.Column="0" Background="#0F172A" BorderBrush="#1E293B" BorderThickness="0,0,1,0">
            <StackPanel Orientation="Vertical" Margin="0">
                <!-- Header -->
                <Border Padding="20,16" BorderBrush="#1E293B" BorderThickness="0,0,0,1">
                    <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                        <Ellipse Width="40" Height="40">
                            <Ellipse.Fill>
                                <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                    <GradientStop Color="#06B6D4" Offset="0"/>
                                    <GradientStop Color="#2563EB" Offset="1"/>
                                </LinearGradientBrush>
                            </Ellipse.Fill>
                        </Ellipse>
                        <StackPanel Margin="12,0,0,0" VerticalAlignment="Center">
                            <TextBlock Text="Ocean" FontWeight="Bold" FontSize="16" Foreground="#06B6D4"/>
                            <TextBlock Text="Executor" FontSize="11" Foreground="#64748B" Margin="0,-2,0,0"/>
                        </StackPanel>
                    </StackPanel>
                </Border>

                <!-- Status Card -->
                <Border Margin="12,16,12,0" Padding="12" Background="#1E293B" BorderBrush="#334155" BorderThickness="1" CornerRadius="8">
                    <StackPanel>
                        <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                            <Ellipse Width="8" Height="8" Fill="#10B981" x:Name="StatusIndicator"/>
                            <TextBlock Margin="8,0,0,0" FontSize="12" FontWeight="SemiBold" Foreground="#E2E8F0" x:Name="StatusText" Text="Connected"/>
                        </StackPanel>
                        <TextBlock Margin="0,4,0,0" FontSize="10" Foreground="#94A3B8" Text="Ready to execute" x:Name="ClientCountText"/>
                    </StackPanel>
                </Border>

                <!-- Navigation -->
                <StackPanel Margin="12,20,12,0">
                    <TextBlock Text="Navigation" FontSize="11" Foreground="#64748B" FontWeight="SemiBold" Margin="0,0,0,8"/>
                    <Button x:Name="ScriptsButton" Content="ðŸ“ Scripts" Style="{StaticResource NavButtonStyle}" Click="NavButton_Click" Tag="scripts"/>
                    <Button x:Name="SettingsButton" Content="âš™ï¸ Settings" Style="{StaticResource NavButtonStyle}" Click="NavButton_Click" Tag="settings"/>
                </StackPanel>

                <!-- Footer -->
                <TextBlock Text="v1.0.0" FontSize="10" Foreground="#475569" Margin="20,0,0,16" VerticalAlignment="Bottom"/>
            </StackPanel>
        </Border>

        <!-- Main Content -->
        <Grid Grid.Column="1">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <!-- Top Bar -->
            <Border Grid.Row="0" Background="#0F172A" BorderBrush="#1E293B" BorderThickness="0,0,0,1" Padding="24,12">
                <TextBlock Text="Script Editor" FontSize="18" FontWeight="Bold" Foreground="#06B6D4"/>
            </Border>

            <!-- Content Area -->
            <Grid Grid.Row="1" Margin="20">
                <Grid.RowDefinitions>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                <!-- Script Editor Section -->
                <StackPanel Grid.Row="0" Orientation="Vertical">
                    <TextBlock Text="Lua Script" FontSize="14" FontWeight="Bold" Foreground="#E2E8F0" Margin="0,0,0,8"/>
                    <TextBox x:Name="ScriptTextBox" 
                             Style="{StaticResource ModernTextBoxStyle}"
                             AcceptsReturn="True" 
                             AcceptsTab="True"
                             VerticalScrollBarVisibility="Auto" 
                             HorizontalScrollBarVisibility="Auto"
                             MinHeight="300"
                             Text="-- Paste your Lua script here&#10;print('Hello World!')"/>

                    <!-- Output Section -->
                    <TextBlock Text="Output Console" FontSize="14" FontWeight="Bold" Foreground="#E2E8F0" Margin="0,20,0,8"/>
                    <Border Background="#1E293B" BorderBrush="#334155" BorderThickness="1" CornerRadius="6" MinHeight="150">
                        <TextBox x:Name="OutputTextBox" 
                                 Style="{StaticResource ModernTextBoxStyle}"
                                 Background="Transparent"
                                 BorderThickness="0"
                                 IsReadOnly="True" 
                                 AcceptsReturn="True" 
                                 VerticalScrollBarVisibility="Auto" 
                                 HorizontalScrollBarVisibility="Auto"
                                 Text="[System] Waiting for connection..."/>
                    </Border>
                </StackPanel>

                <!-- Execute Button -->
                <StackPanel Grid.Row="1" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,20,0,0" Spacing="8">
                    <Button x:Name="ClearButton" Content="Clear" Style="{StaticResource ModernButtonStyle}" Click="ClearButton_Click" Background="#1E293B"/>
                    <Button x:Name="RunButton" Content="â–¶ Execute" Style="{StaticResource ExecuteButtonStyle}" Click="RunButton_Click"/>
                </StackPanel>
            </Grid>

            <!-- Settings Panel (Hidden by default) -->
            <ScrollViewer Grid.Row="1" x:Name="SettingsPanel" Visibility="Collapsed" VerticalScrollBarVisibility="Auto" Margin="20">
                <StackPanel Spacing="16">
                    <TextBlock Text="Execution Settings" FontSize="16" FontWeight="Bold" Foreground="#E2E8F0"/>
                    
                    <Border Background="#1E293B" BorderBrush="#334155" BorderThickness="1" CornerRadius="6" Padding="16">
                        <StackPanel Spacing="12">
                            <TextBlock Text="Auto-attach to Roblox" FontSize="13" Foreground="#E2E8F0" FontWeight="SemiBold"/>
                            <CheckBox Content="Enable auto-connection on startup" Foreground="#94A3B8" IsChecked="True" Margin="0,4"/>
                            <CheckBox Content="Show notifications on execution" Foreground="#94A3B8" IsChecked="True" Margin="0,4"/>
                        </StackPanel>
                    </Border>

                    <TextBlock Text="Appearance" FontSize="16" FontWeight="Bold" Foreground="#E2E8F0"/>
                    
                    <Border Background="#1E293B" BorderBrush="#334155" BorderThickness="1" CornerRadius="6" Padding="16">
                        <StackPanel Spacing="12">
                            <TextBlock Text="Font Size" FontSize="13" Foreground="#E2E8F0" FontWeight="SemiBold"/>
                            <Slider Minimum="10" Maximum="16" Value="12" Foreground="#06B6D4" Margin="0,4"/>
                        </StackPanel>
                    </Border>

                    <TextBlock Text="Server Information" FontSize="16" FontWeight="Bold" Foreground="#E2E8F0"/>
                    
                    <Border Background="#1E293B" BorderBrush="#334155" BorderThickness="1" CornerRadius="6" Padding="16">
                        <StackPanel Spacing="8">
                            <StackPanel Orientation="Horizontal">
                                <TextBlock Text="Server:" Foreground="#94A3B8" Width="100"/>
                                <TextBlock Text="ws://localhost:61417" Foreground="#06B6D4" FontWeight="SemiBold"/>
                            </StackPanel>
                            <StackPanel Orientation="Horizontal">
                                <TextBlock Text="Status:" Foreground="#94A3B8" Width="100"/>
                                <TextBlock x:Name="SettingsStatusText" Text="Running" Foreground="#10B981" FontWeight="SemiBold"/>
                            </StackPanel>
                        </StackPanel>
                    </Border>
                </StackPanel>
            </ScrollViewer>
        </Grid>

        <!-- Toast Notifications Container -->
        <Canvas x:Name="NotificationCanvas" Grid.ColumnSpan="2" IsHitTestVisible="False"/>
    </Grid>
</Window>
